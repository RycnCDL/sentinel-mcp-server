# Microsoft Sentinel MCP Server - Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# AZURE AUTHENTICATION (REQUIRED)
# ============================================================================
# These credentials are used to authenticate with Azure
# Create a Service Principal with Sentinel Reader/Contributor role
# 
# How to get these values:
# 1. Go to Azure Portal → Azure Active Directory → App Registrations
# 2. Create new registration or use existing
# 3. Copy: Application (client) ID, Directory (tenant) ID
# 4. Create client secret: Certificates & secrets → New client secret
# 5. Grant API permissions and Sentinel role assignments
# ============================================================================

AZURE_TENANT_ID=your-tenant-id-here
AZURE_CLIENT_ID=your-client-id-here
AZURE_CLIENT_SECRET=your-client-secret-here

# ============================================================================
# POWERSHELL CONFIGURATION (REQUIRED)
# ============================================================================
# Path to your SentinelManager.ps1 PowerShell script
# Must be absolute path with proper escaping
# 
# Windows example: C:\\Scripts\\SentinelManager.ps1
# Linux/Mac example: /home/user/scripts/SentinelManager.ps1
# ============================================================================

POWERSHELL_SCRIPT_PATH=C:\\Path\\To\\SentinelManager.ps1

# ============================================================================
# POWERSHELL REMOTE EXECUTION (OPTIONAL)
# ============================================================================
# Configure these if you want to run PowerShell on a remote Windows server
# Leave empty for local execution (default)
# ============================================================================

# POWERSHELL_REMOTE_HOST=server.example.com
# POWERSHELL_REMOTE_USER=domain\\username
# POWERSHELL_REMOTE_PASSWORD=password
# POWERSHELL_USE_SSL=true

# ============================================================================
# MCP SERVER SETTINGS (OPTIONAL - defaults shown)
# ============================================================================
# These settings control the MCP server behavior
# You can usually leave these as default
# ============================================================================

MCP_SERVER_NAME=sentinel-mcp-server
MCP_SERVER_VERSION=1.0.0

# ============================================================================
# LOGGING CONFIGURATION (OPTIONAL - defaults shown)
# ============================================================================
# LOG_LEVEL options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_FORMAT options: json, console
# LOG_FILE: Path to log file (empty = console only)
# ============================================================================

LOG_LEVEL=INFO
LOG_FORMAT=console
DEBUG_MODE=false
LOG_REQUESTS=true
# LOG_FILE=/var/log/sentinel-mcp-server.log

# ============================================================================
# AZURE LIGHTHOUSE (OPTIONAL)
# ============================================================================
# If using Azure Lighthouse for multi-tenant management
# These settings control Lighthouse integration
# ============================================================================

# LIGHTHOUSE_ENABLED=true
# LIGHTHOUSE_CACHE_TTL=3600

# ============================================================================
# MONITORING & OBSERVABILITY (OPTIONAL)
# ============================================================================
# Application Insights for monitoring and metrics
# ============================================================================

# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=...

# ============================================================================
# PERFORMANCE TUNING (OPTIONAL)
# ============================================================================
# Advanced settings for performance optimization
# ============================================================================

# POWERSHELL_TIMEOUT=300
# POWERSHELL_MAX_RETRIES=3
# CACHE_ENABLED=false
# CACHE_TTL=300

# ============================================================================
# SECURITY (OPTIONAL)
# ============================================================================
# Additional security settings
# ============================================================================

# ALLOWED_CLIENTS=127.0.0.1,192.168.1.0/24
# ENABLE_AUDIT_LOG=true
# AUDIT_LOG_FILE=/var/log/sentinel-mcp-audit.log

# ============================================================================
# NOTES
# ============================================================================
# 
# SECURITY BEST PRACTICES:
# 1. Never commit .env file to version control
# 2. Use Azure Key Vault for production credentials
# 3. Rotate client secrets regularly
# 4. Use managed identities when running in Azure
# 5. Limit Service Principal permissions to minimum required
#
# TROUBLESHOOTING:
# - If authentication fails, verify Service Principal has Sentinel role
# - If PowerShell fails, check POWERSHELL_SCRIPT_PATH is correct
# - Enable DEBUG_MODE=true for detailed logging
# - Check logs for specific error messages
#
# DOCUMENTATION:
# - See QUICK-START.md for setup instructions
# - See docs/claude-desktop-setup.md for client configuration
# - See docs/troubleshooting.md for common issues
#
# ============================================================================
